<!DOCTYPE html>
<html>
  <head>
    <title>Substack Notes Share Link Generator</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="https://mirojones.github.io/notes/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://mirojones.github.io/notes/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://mirojones.github.io/notes/favicon-16x16.png">
    <link rel="manifest" href="https://mirojones.github.io/notes/site.webmanifest">
    <link rel="mask-icon" href="https://mirojones.github.io/notes/safari-pinned-tab.svg" color="#FF6719">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://mirojones.github.io/notes/style.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <style>
      .material-symbols-outlined {
        font-variation-settings:
        'FILL' 0,
        'wght' 400,
        'GRAD' 0,
        'opsz' 48
      }
    </style>
  </head>
  <body>
    <header>
      <h1 onclick="window.location.reload();">Substack Notes Share Link Generator</h1>
      <span>A tool by <a href="https://mirojones.github.io">Miro Jones</a>.</span>
    </header>
    <main>
      <hr>
      <p>This link will open <a href="https://substack.com">Substack</a> and prefill a Note with your text. Use <kbd>@</kbd> to mention users.</p>
      <textarea id="noteInput" form="note" placeholder="Your note" rows="6"></textarea>
      <br>
      <button id="encodeButton">Generate</button>
      <br>
      <textarea id="outputURL" rows="1" readonly placeholder="Your link will appear here"></textarea>
      <span class="material-symbols-outlined" id="copyLink" onclick="copyLink()">content_copy</span>
      <h2>Demo</h2>
      <p>Here's an <a target="_blank" href="https://substack.com/home?action=compose&message=Check%20out%20this%20Notes%20share%20link%20generator%20by%20%40mirojones%0Ahttps%3A%2F%2Fmirojones.github.io%2Fnotes">example link</a> for a Note which contains the text:</p>
      <div class="note-demo">Check out this Notes share link generator by @mirojones<br>https://mirojones.github.io/notes</div>
      <h2>Apple Shortcut</h2>
      <p>This Shortcut works in exactly the same way as the website. Download it using this <a href="https://www.icloud.com/shortcuts/8b72a02998c446b7ad69eafd5c3cbaa6">iCloud link</a> or view the actions below.</p>
    </main>
    <footer>
      <hr>
      <p>&copy; 2024 Miro Jones. This site is not affiliated with Substack, Inc.</p>
    </footer>
    <script>
      const textInput = document.getElementById("noteInput");
      const encodedText = document.getElementById("outputURL");
      const encodeButton = document.getElementById("encodeButton");

      encodeButton.addEventListener("click", function() {
        const inputValue = textInput.value;
        const encodedValue = encodeURIComponent(inputValue);
        encodedText.value = 'https://substack.com/home?action=compose&message=' + encodedValue;
      });

      // Copy to clipboard
      function copyLink() {
        // Get the text field
        var copyText = document.getElementById("outputURL");

        // Select the text field
        copyText.select();
        copyText.setSelectionRange(0, 99999); // For mobile devices

        // Copy the text inside the text field
        navigator.clipboard.writeText(copyText.value);

        // Alert the copied text
        alert("Link copied");
      }
    </script>
  </body>
</html>
